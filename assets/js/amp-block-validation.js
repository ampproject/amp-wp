!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=47)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.data},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o}));var n=r(3),i=r(6);const c="amp/block-validation",a={ampCompatibilityBroken:!1,fetchingErrorsRequestErrorMessage:"",isPostDirty:!1,isFetchingErrors:!1,isShowingReviewed:!1,keptMarkupValidationErrors:[],maybeIsPostDirty:!1,rawValidationErrors:[],reviewLink:null,reviewedValidationErrors:[],unreviewedValidationErrors:[],validationErrors:[]};function o(e){Object(n.registerStore)(c,function(e){return{reducer:(t=e,r)=>{var n;switch(r.type){case"SET_FETCHING_ERRORS_REQUEST_ERROR_MESSAGE":return{...t,fetchingErrorsRequestErrorMessage:r.fetchingErrorsRequestErrorMessage};case"SET_IS_FETCHING_ERRORS":return{...t,isFetchingErrors:r.isFetchingErrors};case"SET_IS_POST_DIRTY":return{...t,isPostDirty:r.isPostDirty};case"SET_IS_SHOWING_REVIEWED":return{...t,isShowingReviewed:r.isShowingReviewed};case"SET_MAYBE_IS_POST_DIRTY":return{...t,maybeIsPostDirty:r.maybeIsPostDirty};case"SET_REVIEW_LINK":return{...t,reviewLink:r.reviewLink};case"SET_VALIDATION_ERRORS":return{...t,ampCompatibilityBroken:Boolean(null===(n=r.validationErrors.filter(({status:e})=>e===i.VALIDATION_ERROR_NEW_REJECTED_STATUS||e===i.VALIDATION_ERROR_ACK_REJECTED_STATUS))||void 0===n?void 0:n.length),reviewedValidationErrors:r.validationErrors.filter(({status:e})=>e===i.VALIDATION_ERROR_ACK_ACCEPTED_STATUS||e===i.VALIDATION_ERROR_ACK_REJECTED_STATUS),unreviewedValidationErrors:r.validationErrors.filter(({status:e})=>e===i.VALIDATION_ERROR_NEW_ACCEPTED_STATUS||e===i.VALIDATION_ERROR_NEW_REJECTED_STATUS),keptMarkupValidationErrors:r.validationErrors.filter(({status:e})=>e===i.VALIDATION_ERROR_NEW_REJECTED_STATUS||e===i.VALIDATION_ERROR_ACK_REJECTED_STATUS),validationErrors:r.validationErrors};default:return t}},actions:{setFetchingErrorsRequestErrorMessage:e=>({type:"SET_FETCHING_ERRORS_REQUEST_ERROR_MESSAGE",fetchingErrorsRequestErrorMessage:e}),setIsFetchingErrors:e=>({type:"SET_IS_FETCHING_ERRORS",isFetchingErrors:e}),setIsPostDirty:e=>({type:"SET_IS_POST_DIRTY",isPostDirty:e}),setIsShowingReviewed:e=>({type:"SET_IS_SHOWING_REVIEWED",isShowingReviewed:e}),setMaybeIsPostDirty:e=>({type:"SET_MAYBE_IS_POST_DIRTY",maybeIsPostDirty:e}),setReviewLink:e=>({type:"SET_REVIEW_LINK",reviewLink:e}),setValidationErrors:e=>({type:"SET_VALIDATION_ERRORS",validationErrors:e})},selectors:{getAMPCompatibilityBroken:({ampCompatibilityBroken:e})=>e,getFetchingErrorsRequestErrorMessage:({fetchingErrorsRequestErrorMessage:e})=>e,getIsFetchingErrors:({isFetchingErrors:e})=>e,getIsPostDirty:({isPostDirty:e})=>e,getIsShowingReviewed:({isShowingReviewed:e})=>e,getMaybeIsPostDirty:({maybeIsPostDirty:e})=>e,getReviewLink:({reviewLink:e})=>e,getReviewedValidationErrors:({reviewedValidationErrors:e})=>e,getUnreviewedValidationErrors:({unreviewedValidationErrors:e})=>e,getKeptMarkupValidationErrors:({keptMarkupValidationErrors:e})=>e,getValidationErrors:({validationErrors:e})=>e},initialState:e}}(e))}},function(e,t,r){e.exports=r(31)()},function(e,t){e.exports=ampBlockValidation},function(e,t){e.exports=window.wp.blockEditor},,function(e,t){e.exports=window.lodash},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,r.apply(this,arguments)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.compose},function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return s}));var n=r(0),i=r(28),c=r.n(i),a=(r(5),r(16),r(2));function o(){return Object(n.createElement)("div",{className:"amp-spinner-container"},Object(n.createElement)(a.Spinner,null))}function l({action:e,icon:t,isLoading:r=!1,isSmall:i=!1,message:a}){const l=r?Object(n.createElement)(o,null):t;return Object(n.createElement)("div",{className:c()("sidebar-notification",{"is-loading":r,"is-small":i})},l&&Object(n.createElement)("div",{className:"sidebar-notification__icon"},l),Object(n.createElement)("div",{className:"sidebar-notification__content"},Object(n.createElement)("p",null,a),e&&Object(n.createElement)("div",{className:"sidebar-notification__action"},e)))}function s({children:e,isShady:t}){return Object(n.createElement)("div",{className:c()("sidebar-notifications-container",{"is-shady":t})},e)}},,,function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return d}));var n=r(0),i=(r(16),r(5),function(e){return Object(n.createElement)("svg",e,Object(n.createElement)("path",{fill:"#0075C2",d:"m13.3 9.1-4 6.6h-.8l.7-4.3H7c-.2 0-.4-.2-.4-.4 0-.1.1-.2.1-.2l4-6.6h.7l-.7 4.3h2.2c.2 0 .4.2.4.4.1.1 0 .2 0 .2zM10 .5C4.7.5.4 4.8.4 10c0 5.3 4.3 9.5 9.6 9.5s9.6-4.3 9.6-9.5c0-5.3-4.3-9.5-9.6-9.5z"}))});i.defaultProps={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"};var c=function(e){return Object(n.createElement)("svg",e,Object(n.createElement)("path",{d:"M9.863 16.815h-.7l.8-4.5h-2.3c-.2 0-.4-.2-.4-.4 0-.1.1-.2.1-.2l4.2-7h.8l-.8 4.6h2.3c.2 0 .4.2.4.4 0 .1 0 .2-.1.2l-4.3 6.9zm.8-16.1c-5.5 0-10 4.5-10 10s4.5 10 10 10 10-4.5 10-10-4.5-10-10-10z"}))};c.defaultProps={width:"21",height:"21",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var a=function(e){return Object(n.createElement)("svg",e,Object(n.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.913 10.283c0 5.5 4.5 10 10 10s10-4.5 10-10-4.5-10-10-10-10 4.5-10 10z",fill:"#fff"}),Object(n.createElement)("path",{d:"M10.113 16.383h-.7l.8-4.5h-2.3c-.2 0-.4-.2-.4-.4 0-.1.1-.2.1-.2l4.2-7h.8l-.8 4.6h2.3c.2 0 .4.2.4.4 0 .1 0 .2-.1.2l-4.3 6.9zm.8-16.1c-5.5 0-10 4.5-10 10s4.5 10 10 10 10-4.5 10-10-4.5-10-10-10z",fill:"#37414B"}),Object(n.createElement)("circle",{cx:"10.913",cy:"10.283",r:"9",stroke:"#BB522E",strokeWidth:"2"}),Object(n.createElement)("path",{stroke:"#BB522E",strokeWidth:"2",d:"M16.518 17.346 3.791 4.618"}),Object(n.createElement)("path",{stroke:"#fff",strokeWidth:"2",d:"M19.805 18.118 3.282 1.249"}))};function o({hasBadge:e}){return Object(n.createElement)("span",{className:"amp-toolbar-icon components-menu-items__item-icon"+(e?" amp-toolbar-icon--has-badge":"")},Object(n.createElement)(c,null))}function l({hasBadge:e}){return Object(n.createElement)("span",{className:"amp-toolbar-broken-icon"+(e?" amp-toolbar-broken-icon--has-badge":"")},Object(n.createElement)(a,null))}function s({broken:e=!1,count:t}){return Object(n.createElement)("div",{className:"amp-plugin-icon "+(e?"amp-plugin-icon--broken":"")},e?Object(n.createElement)(l,{hasBadge:Boolean(t)}):Object(n.createElement)(o,{hasBadge:Boolean(t)}),0<t&&Object(n.createElement)("div",{className:"amp-error-count-badge"},t))}function u(){return Object(n.createElement)(o,{hasBadge:!1})}function d({broken:e=!1}){return Object(n.createElement)("div",{className:"amp-status-icon "+(e?"amp-status-icon--broken":"")},Object(n.createElement)(i,null))}a.defaultProps={width:"21",height:"21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},function(e,t){e.exports=window.React},function(e,t){e.exports=window.wp.editPost},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(3);function i(){const e=Object(n.useSelect)(e=>e("core/editor").getEditedPostAttribute("amp_enabled")||!1,[]),{editPost:t}=Object(n.useDispatch)("core/editor");return{isAMPEnabled:e,toggleAMP:()=>t({amp_enabled:!e})}}},function(e,t){e.exports=window.wp.hooks},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(0),i=r(1),c=r(2),a=r(18);function o(){const{isAMPEnabled:e,toggleAMP:t}=Object(a.a)(),r=Object(n.useRef)("amp-toggle-"+Math.random().toString(32).substr(-4));return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("label",{htmlFor:r.current},Object(i.__)("Enable AMP","amp")),Object(n.createElement)(c.FormToggle,{checked:e,onChange:t,id:r.current}))}},,function(e,t,r){"use strict";r.r(t),r.d(t,"PLUGIN_NAME",(function(){return H})),r.d(t,"SIDEBAR_NAME",(function(){return W})),r.d(t,"PLUGIN_TITLE",(function(){return G})),r.d(t,"PLUGIN_ICON",(function(){return K})),r.d(t,"default",(function(){return q}));var n=r(0),i=r(1),c=r(17),a=r(3),o=r(4),l=r(15),s=r(2),u=r(12),d=(r(16),r(25)),m=function(e){return Object(n.createElement)("svg",e,Object(n.createElement)("path",{fill:"#707070",d:"M8 20c1.1 0 2-.9 2-2H6c0 1.1.9 2 2 2zm6-6V9c0-3.07-1.63-5.64-4.5-6.32V2C9.5 1.17 8.83.5 8 .5S6.5 1.17 6.5 2v.68C3.64 3.36 2 5.92 2 9v5l-2 2v1h16v-1l-2-2zm-2 1H4V9c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}))};function b(){const{autosave:e,savePost:t}=Object(a.useDispatch)("core/editor"),{isFetchingErrors:r,fetchingErrorsMessage:c}=Object(d.a)(),{isDraft:l,isPostDirty:b,maybeIsPostDirty:E}=Object(a.useSelect)(e=>({isDraft:-1!==["draft","auto-draft"].indexOf(e("core/editor").getEditedPostAttribute("status")),isPostDirty:e(o.a).getIsPostDirty(),maybeIsPostDirty:e(o.a).getMaybeIsPostDirty()}),[]);return r?Object(n.createElement)(u.a,{message:c,isLoading:!0}):b||E?Object(n.createElement)(u.a,{icon:Object(n.createElement)(m,null),message:E?Object(i.__)("Content may have changed.","amp"):Object(i.__)("Content has changed.","amp"),action:l?Object(n.createElement)(s.Button,{isLink:!0,onClick:()=>t({isPreview:!0})},Object(i.__)("Save draft and validate","amp")):Object(n.createElement)(s.Button,{isLink:!0,onClick:()=>e({isPreview:!0})},Object(i.__)("Re-validate","amp"))}):null}m.defaultProps={fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 20"};var E=function(e){return Object(n.createElement)("svg",e,Object(n.createElement)("g",{clipPath:"url(#clip-amp-validation-errors-kept)",fill:"#BB522E"},Object(n.createElement)("path",{d:"M10.762 2.541c4.4 0 8 3.6 8 8 0 1.6-.5 3-1.2 4.2l1.4 1.5c1.1-1.6 1.8-3.6 1.8-5.7 0-5.5-4.5-10-10-10-2 0-3.9.6-5.5 1.7l1.4 1.5c1.2-.8 2.6-1.2 4.1-1.2zM.762 10.541c0 5.5 4.5 10 10 10 2.7 0 5.1-1.1 6.9-2.8l-14-14.2c-1.8 1.8-2.9 4.3-2.9 7zm10 8c-4.4 0-8-3.6-8-8 0-1.5.4-2.8 1.1-4l10.9 10.9c-1.2.7-2.5 1.1-4 1.1z"}),Object(n.createElement)("path",{d:"M14.262 9.74c.1 0 .1-.1.1-.2 0-.2-.2-.4-.4-.4h-2l1.6 1.6.7-1zM12.461 4.541h-.8l-1.6 2.6 1.7 1.7.7-4.3zM7.462 11.541s-.1.1-.1.2c0 .2.2.4.4.4h2.3l-.8 4.5h.7l2.6-4.1-3.5-3.6-1.6 2.6z"})),Object(n.createElement)("defs",null,Object(n.createElement)("clipPath",{id:"clip-amp-validation-errors-kept"},Object(n.createElement)("path",{fill:"#fff",transform:"translate(.762 .541)",d:"M0 0h20v20H0z"}))))};function p(){const{autosave:e,savePost:t}=Object(a.useDispatch)("core/editor"),{isFetchingErrors:r}=Object(d.a)(),{fetchingErrorsRequestErrorMessage:c,isDraft:m,isEditedPostNew:b,keptMarkupValidationErrorCount:p,reviewLink:O,unreviewedValidationErrorCount:f,validationErrorCount:j}=Object(a.useSelect)(e=>({fetchingErrorsRequestErrorMessage:e(o.a).getFetchingErrorsRequestErrorMessage(),isDraft:-1!==["draft","auto-draft"].indexOf(e("core/editor").getEditedPostAttribute("status")),isEditedPostNew:e("core/editor").isEditedPostNew(),keptMarkupValidationErrorCount:e(o.a).getKeptMarkupValidationErrors().length,reviewLink:e(o.a).getReviewLink(),unreviewedValidationErrorCount:e(o.a).getUnreviewedValidationErrors().length,validationErrorCount:e(o.a).getValidationErrors().length}),[]);return r?null:b?Object(n.createElement)(u.a,{icon:Object(n.createElement)(l.b,null),message:Object(i.__)("Validation will be checked upon saving.","amp")}):c?Object(n.createElement)(u.a,{icon:Object(n.createElement)(E,null),message:c,action:Object(n.createElement)(s.Button,{isLink:!0,onClick:m?()=>t({isPreview:!0}):()=>e({isPreview:!0})},Object(i.__)("Try again","amp"))}):p>0?Object(n.createElement)(u.a,{icon:Object(n.createElement)(E,null),message:Object(i.sprintf)(
/* translators: %d is count of validation errors whose invalid markup is kept */
Object(i._n)("AMP is disabled due to invalid markup being kept for %d issue.","AMP is disabled due to invalid markup being kept for %d issues.",p,"amp"),p),action:O&&Object(n.createElement)(s.ExternalLink,{href:O},Object(i.__)("View technical details","amp"))}):f>0?Object(n.createElement)(u.a,{icon:Object(n.createElement)(l.b,{broken:!0}),message:Object(i.sprintf)(
/* translators: %d is count of unreviewed validation error */
Object(i._n)("AMP is valid, but %d issue needs review.","AMP is valid, but %d issues need review.",f,"amp"),f),action:O&&Object(n.createElement)(s.ExternalLink,{href:O},Object(i.__)("View technical details","amp"))}):j>0?Object(n.createElement)(u.a,{icon:Object(n.createElement)(l.b,null),message:Object(i.sprintf)(
/* translators: %d is count of unreviewed validation error */
Object(i._n)("AMP is valid. %d issue was reviewed.","AMP is valid. %d issues were reviewed.",j,"amp"),j),action:O&&Object(n.createElement)(s.ExternalLink,{href:O},Object(i.__)("View technical details","amp"))}):Object(n.createElement)(u.a,{icon:Object(n.createElement)(l.b,null),message:Object(i.__)("No AMP validation issues detected.","amp")})}function O(){return Object(n.createElement)(u.b,{isShady:!0},Object(n.createElement)(b,null),Object(n.createElement)(p,null))}E.defaultProps={width:"21",height:"21",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var f=r(28),j=r.n(f),g=(r(5),r(6)),_=function(e){return Object(n.createElement)("svg",e,Object(n.createElement)("path",{d:"m2.45 3.068 3.34 1.178v1.64L.743 3.749V2.365L5.79.227v1.64L2.45 3.068zm8.19-.017L7.237 1.86V.232l5.104 2.14v1.376L7.236 5.893V4.258l3.405-1.207z",fill:"#fff"}))};_.defaultProps={width:"13",height:"6",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var h=function(e){return Object(n.createElement)("svg",e,Object(n.createElement)("path",{d:"M3.675.959h1.5v4.9c0 .5-.1.9-.3 1.2-.2.3-.5.6-.8.8-.4.2-.8.3-1.2.3-.8 0-1.3-.2-1.8-.6-.4-.4-.6-.9-.6-1.6h1.5c0 .3.1.6.2.8.1.2.4.2.7.2.3 0 .5-.1.7-.3.2-.2.2-.5.2-.8v-4.9h-.1zM10.075 6.26c0-.3-.1-.5-.3-.6-.2-.1-.5-.3-1.1-.5-.5-.2-.9-.3-1.2-.5-.8-.4-1.2-1-1.2-1.8 0-.4.1-.7.3-1 .2-.3.5-.5.9-.7.5-.2 1-.3 1.5-.3s1 .1 1.4.3c.4.2.7.4.9.8.2.3.3.7.3 1.1h-1.5c0-.3-.1-.6-.3-.8-.2-.2-.5-.3-.9-.3s-.6.1-.8.2c-.2.2-.3.3-.3.6 0 .2.1.4.3.6.2.2.6.3 1 .4.8.3 1.4.6 1.8.9.4.3.6.8.6 1.4 0 .6-.2 1.1-.7 1.4-.5.4-1.1.5-1.9.5-.5 0-1-.1-1.5-.3-.4-.2-.8-.5-1-.8-.2-.3-.4-.8-.4-1.2h1.5c0 .8.5 1.2 1.4 1.2.3 0 .6-.1.8-.2.3 0 .4-.2.4-.4z",fill:"#fff"}))};h.defaultProps={width:"12",height:"9",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var v=function(e){return Object(n.createElement)("svg",e,Object(n.createElement)("path",{d:"M4.13 6.46h-1.2l-.4 2.4h-1.1l.4-2.4H.53v-1h1.5l.3-1.7h-1.3v-1h1.5l.4-2.4h1.1l-.4 2.4h1.1l.4-2.4h1.1l-.4 2.4h1.3v1h-1.5l-.3 1.7h1.3v1h-1.5l-.4 2.4h-1.1l.5-2.4zm-1-1h1.1l.3-1.7h-1.1l-.3 1.7z",fill:"#fff"}))};function w({type:e}){switch(e){case g.HTML_ATTRIBUTE_ERROR_TYPE:case g.HTML_ELEMENT_ERROR_TYPE:return Object(n.createElement)(_,null);case g.JS_ERROR_TYPE:return Object(n.createElement)(h,null);case g.CSS_ERROR_TYPE:return Object(n.createElement)(v,null);default:return null}}function P({kept:e,title:t,error:{type:r}}){return Object(n.createElement)("div",{className:"amp-error__panel-title",title:e?Object(i.__)("This error has been kept, making this URL not AMP-compatible.","amp"):""},Object(n.createElement)("div",{className:"amp-error__icons"},r&&Object(n.createElement)("div",{className:"amp-error__error-type-icon amp-error__error-type-icon--"+(null==r?void 0:r.replace(/_/g,"-"))},Object(n.createElement)(w,{type:r}))),Object(n.createElement)("div",{className:"amp-error__title",dangerouslySetInnerHTML:{__html:t}}))}v.defaultProps={width:"8",height:"9",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var k=r(7);function R(e=[]){const t={theme:[],plugin:[],"mu-plugin":[],embed:[],core:[],blocks:[]};for(const r of e)r.type&&r.type in t?t[r.type].push(r):"block_name"in r&&t.blocks.push(r);const r=[],n=[...new Set(t.plugin.map(({name:e})=>e))],c=[...new Set(t["mu-plugin"].map(({name:e})=>e))],a=[...n,...c];if(1===a.length)r.push(g.pluginNames[a[0]]||a[0]);else{const e=n.length,t=c.length;0<e&&r.push(Object(i.sprintf)("%1$s (%2$d)",Object(i.__)("Plugins","amp"),e)),0<t&&r.push(Object(i.sprintf)("%1$s (%2$d)",Object(i.__)("Must-use plugins","amp"),t))}if(0===t.embed.length){const e=t.theme.filter(({name:e})=>g.themeSlug===e),n=t.theme.filter(({name:e})=>g.themeSlug!==e);0<e.length&&r.push(g.themeName),0<n.length&&
/* translators: placeholder is the slug of an inactive WordPress theme. */
r.push(Object(i.__)("Inactive theme(s)","amp"))}return 0===r.length&&0<t.blocks.length&&r.push(t.blocks[0].block_name),0===r.length&&0<t.embed.length&&r.push(Object(i.__)("Embed","amp")),0===r.length&&0<t.core.length&&r.push(Object(i.__)("Core","amp")),r.join(", ")}var S=function(e){return Object(n.createElement)("svg",e,Object(n.createElement)("path",{d:"m10.075 4.055 6.275 10.842H3.8l6.275-10.842zm0-3.325L.908 16.564h18.333L10.075.73zm.833 11.667H9.242v1.667h1.666v-1.667zm0-5H9.242v3.333h1.666V7.397z",fill:"#BE2C23"}))};S.defaultProps={width:"20",height:"17",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var T=function(e){return Object(n.createElement)("svg",e,Object(n.createElement)("path",{d:"M12.258 9.043 10.49 10.81 8.716 9.043l-1.175 1.175 1.775 1.767-1.767 1.767 1.175 1.175 1.767-1.767 1.767 1.767 1.175-1.175-1.767-1.767 1.767-1.767-1.175-1.175zm1.15-5.391-.834-.834H8.408l-.834.834H4.658v1.666h11.666V3.652h-2.916zm-7.917 12.5c0 .916.75 1.666 1.667 1.666h6.666c.917 0 1.667-.75 1.667-1.666v-10h-10v10zm1.667-8.334h6.666v8.334H7.158V7.818z",fill:"#479696"}))};function y({clientId:e,blockTypeName:t,sources:r}){let c;const a=null===g.blockSources||void 0===g.blockSources?void 0:g.blockSources[t];if(e)switch(null==a?void 0:a.source){case"plugin":c=Object(i.sprintf)(
/* translators: %s: plugin name. */
Object(i.__)("%s (plugin)","amp"),a.title);break;case"mu-plugin":c=Object(i.sprintf)(
/* translators: %s: plugin name. */
Object(i.__)("%s (must-use plugin)","amp"),a.title);break;case"theme":c=Object(i.sprintf)(
/* translators: %s: theme name. */
Object(i.__)("%s (theme)","amp"),a.title);break;default:c=(null==a?void 0:a.title)||R(r)}else c=R(r);return c||(c=Object(i.__)("Unknown","amp")),Object(n.createElement)(n.Fragment,null,Object(n.createElement)("dt",null,Object(i.__)("Source","amp")),Object(n.createElement)("dd",null,c))}function I({status:e}){let t,r;return t=[g.VALIDATION_ERROR_NEW_ACCEPTED_STATUS,g.VALIDATION_ERROR_ACK_ACCEPTED_STATUS].includes(e)?Object(n.createElement)("span",{className:"amp-error__kept-removed amp-error__kept-removed--removed"},Object(i.__)("Removed","amp"),Object(n.createElement)("span",null,Object(n.createElement)(T,null))):Object(n.createElement)("span",{className:"amp-error__kept-removed amp-error__kept-removed--kept"},Object(i.__)("Kept","amp"),Object(n.createElement)("span",null,Object(n.createElement)(S,null))),r=[g.VALIDATION_ERROR_ACK_ACCEPTED_STATUS,g.VALIDATION_ERROR_ACK_REJECTED_STATUS].includes(e)?Object(i.__)("Yes","amp"):Object(i.__)("No","amp"),Object(n.createElement)(n.Fragment,null,Object(n.createElement)("dt",null,Object(i.__)("Markup status","amp")),Object(n.createElement)("dd",null,t),Object(n.createElement)("dt",null,Object(i.__)("Reviewed","amp")),Object(n.createElement)("dd",null,r))}function A({blockTypeIcon:e,blockTypeTitle:t}){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("dt",null,Object(i.__)("Block type","amp")),Object(n.createElement)("dd",null,Object(n.createElement)("span",{className:"amp-error__block-type-description"},t||Object(i.__)("unknown","amp"),e&&Object(n.createElement)("span",{className:"amp-error__block-type-icon"},Object(n.createElement)(k.BlockIcon,{icon:e})))))}function M({blockType:e,clientId:t,error:{sources:r},isExternal:c,removed:a,status:o}){const l=null==e?void 0:e.title,s=null==e?void 0:e.name,u=null==e?void 0:e.icon;return Object(n.createElement)(n.Fragment,null,a&&Object(n.createElement)("p",null,Object(i.__)("This error is no longer detected, either because the block was removed or the editor mode was switched.","amp")),c&&Object(n.createElement)("p",null,Object(i.__)("This error comes from outside the content (e.g. header or footer).","amp")),Object(n.createElement)("dl",{className:"amp-error__details"},!(a||c)&&Object(n.createElement)(A,{blockTypeIcon:u,blockTypeTitle:l}),Object(n.createElement)(y,{blockTypeName:s,clientId:t,sources:r}),Object(n.createElement)(I,{status:o})))}function N({clientId:e,error:t,status:r,term_id:c,title:l}){const{selectBlock:u}=Object(a.useDispatch)("core/block-editor"),d=Object(a.useSelect)(e=>e(o.a).getReviewLink(),[]),m=r===g.VALIDATION_ERROR_ACK_ACCEPTED_STATUS||r===g.VALIDATION_ERROR_ACK_REJECTED_STATUS,b=r===g.VALIDATION_ERROR_ACK_REJECTED_STATUS||r===g.VALIDATION_ERROR_NEW_REJECTED_STATUS,E=!Boolean(e),{blockType:p,removed:O}=Object(a.useSelect)(t=>{const r=t("core/block-editor").getBlockName(e);return{removed:e&&!r,blockType:t("core/blocks").getBlockType(r)}},[e]);let f=null;d&&(f=new URL(d),f.hash="#tag-"+c);const _=j()("amp-error",{"amp-error--reviewed":m,"amp-error--new":!m,"amp-error--removed":O,"amp-error--kept":b,["error-"+e]:e});return Object(n.createElement)(s.PanelBody,{className:_,title:Object(n.createElement)(P,{error:t,kept:b,title:l}),initialOpen:!1},Object(n.createElement)(M,{blockType:p,clientId:e,error:t,isExternal:E,removed:O,status:r}),Object(n.createElement)("div",{className:"amp-error__actions"},!(O||E)&&Object(n.createElement)(s.Button,{className:"amp-error__select-block",isSecondary:!0,onClick:()=>{u(e)}},Object(i.__)("Select block","amp")),f&&Object(n.createElement)(s.ExternalLink,{href:f.href,className:"amp-error__details-link"},Object(i.__)("View details","amp"))))}function C(){const{setIsShowingReviewed:e}=Object(a.useDispatch)(o.a),{displayedErrors:t,hasReviewedValidationErrors:r,isShowingReviewed:c}=Object(a.useSelect)(e=>{var t;const r=e(o.a).getIsShowingReviewed();return{displayedErrors:r?e(o.a).getValidationErrors():e(o.a).getUnreviewedValidationErrors(),hasReviewedValidationErrors:(null===(t=e(o.a).getReviewedValidationErrors())||void 0===t?void 0:t.length)>0,isShowingReviewed:r}},[]);return Object(n.useEffect)(()=>{const e=document.querySelector(".amp-sidebar a, .amp-sidebar button, .amp-sidebar input");e&&e.focus()},[]),Object(n.createElement)("div",{className:"amp-sidebar"},Object(n.createElement)(O,null),0<t.length&&Object(n.createElement)("ul",{className:"amp-sidebar__errors-list"},t.map((e,t)=>Object(n.createElement)("li",{key:`${e.clientId}${t}`,className:"amp-sidebar__errors-list-item"},Object(n.createElement)(N,e)))),r&&Object(n.createElement)("div",{className:"amp-sidebar__options"},Object(n.createElement)(s.Button,{isLink:!0,onClick:()=>e(!c)},c?Object(i.__)("Hide reviewed issues","amp"):Object(i.__)("Show reviewed issues","amp"))))}function D(){const e=Object(a.useSelect)(e=>e(o.a).getUnreviewedValidationErrors(),[]),t=Object(n.useMemo)(()=>e.map(({clientId:e})=>e).filter(e=>e).map(e=>`#block-${e}::before`),[e]);return Object(n.createElement)("style",null,t.join(",")+" {\n\t\t\t\t\tborder-radius: 9px;\n\t\t\t\t\tbottom: -3px;\n\t\t\t\t\tbox-shadow: 0 0 0 2px #bb522e;\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tleft: -3px;\n\t\t\t\t\tpointer-events: none;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tright: -3px;\n\t\t\t\t\ttop: -3px;\n\t\t\t\t}")}T.defaultProps={width:"21",height:"21",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var V=r(11),L=r(9),x=r(38),B=r.n(x),U=r(34);function F({validationError:e,source:t,currentPostId:r,blockOrder:n,getBlock:i}){if(!t.block_name||void 0===t.block_content_index)return;if(r!==t.post_id)return;const c=n[t.block_content_index];if(!c)return;const a=i(c);a&&a.name===t.block_name&&(e.clientId=c)}var z=r(18);const H="amp-block-validation",W="amp-editor-sidebar",G=Object(i.__)("AMP Validation","amp"),K=l.a;function q(){const{broken:e,errorCount:t}=Object(a.useSelect)(e=>{var t;return{broken:e(o.a).getAMPCompatibilityBroken(),errorCount:(null===(t=e(o.a).getUnreviewedValidationErrors())||void 0===t?void 0:t.length)||0}},[]),{isAMPEnabled:r}=Object(z.a)();return function(){const[e,t]=Object(n.useState)([]),[r,c]=Object(n.useState)(!1),[l,s]=Object(n.useState)([]),[u,d]=Object(n.useState)(!1),{setIsFetchingErrors:m,setFetchingErrorsRequestErrorMessage:b,setReviewLink:E,setValidationErrors:p}=Object(a.useDispatch)(o.a),{currentPostId:O,getBlock:f,getClientIdsWithDescendants:j,isAutosavingPost:g,isEditedPostNew:_,isPreviewingPost:h,isSavingPost:v,previewLink:w,validationErrors:P}=Object(a.useSelect)(e=>({currentPostId:e("core/editor").getCurrentPostId(),getBlock:e("core/block-editor").getBlock,getClientIdsWithDescendants:e("core/block-editor").getClientIdsWithDescendants,isAutosavingPost:e("core/editor").isAutosavingPost(),isEditedPostNew:e("core/editor").isEditedPostNew(),isPreviewingPost:e("core/editor").isPreviewingPost(),isSavingPost:e("core/editor").isSavingPost(),previewLink:e("core/editor").getEditedPostPreviewLink(),validationErrors:e(o.a).getValidationErrors()}),[]),k=Object(V.usePrevious)(_);Object(n.useEffect)(()=>{_||k||d(!0)},[_,k]),Object(n.useEffect)(()=>{if(v)return h?(d(!0),void c(!0)):void(g||d(!0))},[g,h,v]),Object(n.useEffect)(()=>{if(!u)return;if(v)return void m(!0);if(r&&!Object(U.isURL)(w))return;const e={id:O};r&&(e.preview_nonce=Object(U.getQueryArg)(w,"preview_nonce")),m(!0),d(!1),c(!1),b(""),t(j()),B()({path:"/amp/v1/validate-post-url/",method:"POST",data:e}).then(e=>{p(e.results),E(e.review_link)}).catch(e=>{b((null==e?void 0:e.message)||Object(i.__)("Whoops! Something went wrong.","amp"))}).finally(()=>{m(!1)})},[O,j,r,v,w,b,m,E,p,u]),Object(n.useEffect)(()=>{P&&!Object(L.isEqual)(l,P)&&s(P)},[l,P]),Object(n.useEffect)(()=>{const t=l.map(t=>{if(!t.error.sources)return t;for(const r of t.error.sources){if("clientId"in t)break;F({validationError:t,source:r,getBlock:f,blockOrder:0<e.length?e:j(),currentPostId:O})}return t});p(t)},[e,O,f,j,p,l])}(),function(){const[e,t]=Object(n.useState)(null),[r,i]=Object(n.useState)(),c=Object(n.useRef)(null),{setIsPostDirty:l,setMaybeIsPostDirty:s}=Object(a.useDispatch)(o.a),{getEditedPostContent:u,hasErrorsFromRemovedBlocks:d,hasActiveMetaboxes:m,isPostDirty:b,isSavingOrPreviewingPost:E}=Object(a.useSelect)(e=>({getEditedPostContent:e("core/editor").getEditedPostContent,hasErrorsFromRemovedBlocks:Boolean(e(o.a).getValidationErrors().find(({clientId:t})=>t&&!e("core/block-editor").getBlockName(t))),hasActiveMetaboxes:e("core/edit-post").hasMetaBoxes(),isPostDirty:e(o.a).getIsPostDirty(),isSavingOrPreviewingPost:e("core/editor").isSavingPost()&&!e("core/editor").isAutosavingPost()||e("core/editor").isPreviewingPost()}),[]);Object(n.useEffect)(()=>()=>{c.current&&c.current()},[]),Object(n.useEffect)(()=>{b&&E&&(l(!1),t(null))},[b,E,l]),Object(n.useEffect)(()=>{if(null===e){const e=u();return t(e),void i(e)}r!==e&&l(!0)},[e,u,l,r]),Object(n.useEffect)(()=>{s(!b&&(m||d))},[m,d,b,s]);const p=Object(n.useCallback)(()=>{i(u())},[u]),O=Object(V.useDebounce)(p,500);Object(n.useEffect)(()=>{b&&c.current?(c.current(),c.current=null):E||b||c.current||(c.current=Object(a.subscribe)(O))},[O,b,E])}(),r?Object(n.createElement)(n.Fragment,null,Object(n.createElement)(c.PluginSidebarMoreMenuItem,{icon:Object(n.createElement)(K,null),target:W},G),Object(n.createElement)(c.PluginSidebar,{className:H+"-sidebar",icon:Object(n.createElement)(l.c,{count:t,broken:e}),name:W,title:G},Object(n.createElement)(C,null),Object(n.createElement)(D,null))):null}},,,function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(0),i=r(3),c=r(11),a=r(1),o=r(4);function l(){const[e,t]=Object(n.useState)(!1),[r,l]=Object(n.useState)(""),{isEditedPostNew:s,isFetchingErrors:u}=Object(i.useSelect)(e=>({isEditedPostNew:e("core/editor").isEditedPostNew(),isFetchingErrors:e(o.a).getIsFetchingErrors()}),[]),d=Object(c.usePrevious)(s),m=Object(c.usePrevious)(u);return Object(n.useEffect)(()=>{e||!u&&m&&t(!0)},[e,u,m]),Object(n.useEffect)(()=>{l(e?Object(a.__)("Re-validating content.","amp"):s||d?Object(a.__)("Validating content.","amp"):u?Object(a.__)("Loadingâ€¦","amp"):"")},[e,s,u,d]),{isFetchingErrors:u,fetchingErrorsMessage:r}}},,function(e,t){e.exports=window.wp.plugins},function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var c=typeof n;if("string"===c||"number"===c)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===c)if(n.toString===Object.prototype.toString)for(var o in n)r.call(n,o)&&n[o]&&e.push(o);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r(0),i=(r(16),r(1)),c=r(2),a=r(3),o=r(4),l=r(15),s=r(12),u=r(18),d=r(25),m=r(22),b=r(20),E=function(e){return Object(n.createElement)("svg",e,Object(n.createElement)("g",{clipPath:"url(#clip-amp-validation-errors-kept)",fill:"#BB522E"},Object(n.createElement)("path",{d:"M10.762 2.541c4.4 0 8 3.6 8 8 0 1.6-.5 3-1.2 4.2l1.4 1.5c1.1-1.6 1.8-3.6 1.8-5.7 0-5.5-4.5-10-10-10-2 0-3.9.6-5.5 1.7l1.4 1.5c1.2-.8 2.6-1.2 4.1-1.2zM.762 10.541c0 5.5 4.5 10 10 10 2.7 0 5.1-1.1 6.9-2.8l-14-14.2c-1.8 1.8-2.9 4.3-2.9 7zm10 8c-4.4 0-8-3.6-8-8 0-1.5.4-2.8 1.1-4l10.9 10.9c-1.2.7-2.5 1.1-4 1.1z"}),Object(n.createElement)("path",{d:"M14.262 9.74c.1 0 .1-.1.1-.2 0-.2-.2-.4-.4-.4h-2l1.6 1.6.7-1zM12.461 4.541h-.8l-1.6 2.6 1.7 1.7.7-4.3zM7.462 11.541s-.1.1-.1.2c0 .2.2.4.4.4h2.3l-.8 4.5h.7l2.6-4.1-3.5-3.6-1.6 2.6z"})),Object(n.createElement)("defs",null,Object(n.createElement)("clipPath",{id:"clip-amp-validation-errors-kept"},Object(n.createElement)("path",{fill:"#fff",transform:"translate(.762 .541)",d:"M0 0h20v20H0z"}))))};E.defaultProps={width:"21",height:"21",fill:"none",xmlns:"http://www.w3.org/2000/svg"};var p=function(e){return Object(n.createElement)("svg",e,Object(n.createElement)("path",{fill:"#707070",d:"M8 20c1.1 0 2-.9 2-2H6c0 1.1.9 2 2 2zm6-6V9c0-3.07-1.63-5.64-4.5-6.32V2C9.5 1.17 8.83.5 8 .5S6.5 1.17 6.5 2v.68C3.64 3.36 2 5.92 2 9v5l-2 2v1h16v-1l-2-2zm-2 1H4V9c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}))};function O(){const{isAMPEnabled:e}=Object(u.a)(),{isFetchingErrors:t,fetchingErrorsMessage:r}=Object(d.a)(),{openGeneralSidebar:O,closePublishSidebar:f}=Object(a.useDispatch)("core/edit-post"),{isPostDirty:j,maybeIsPostDirty:g,keptMarkupValidationErrorCount:_,reviewedValidationErrorCount:h,unreviewedValidationErrorCount:v}=Object(a.useSelect)(e=>({isPostDirty:e(o.a).getIsPostDirty(),maybeIsPostDirty:e(o.a).getMaybeIsPostDirty(),keptMarkupValidationErrorCount:e(o.a).getKeptMarkupValidationErrors().length,reviewedValidationErrorCount:e(o.a).getReviewedValidationErrors().length,unreviewedValidationErrorCount:e(o.a).getUnreviewedValidationErrors().length}),[]);if(!e)return Object(n.createElement)(c.PanelRow,null,Object(n.createElement)(b.a,null));if(t)return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(c.PanelRow,null,Object(n.createElement)(b.a,null)),Object(n.createElement)(s.a,{message:r,isLoading:!0,isSmall:!0}));const w=()=>{f(),O(`${m.PLUGIN_NAME}/${m.SIDEBAR_NAME}`)};return j||g?Object(n.createElement)(n.Fragment,null,Object(n.createElement)(c.PanelRow,null,Object(n.createElement)(b.a,null)),Object(n.createElement)(s.a,{icon:Object(n.createElement)(p,null),message:g?Object(i.__)("Content may have changed. Trigger validation in the AMP Validation sidebar.","amp"):Object(i.__)("Content has changed. Trigger validation in the AMP Validation sidebar.","amp"),isSmall:!0}),Object(n.createElement)(c.PanelRow,null,Object(n.createElement)(c.Button,{onClick:w,isSecondary:!0,isSmall:!0},Object(i.__)("Open AMP Validation","amp")))):_>0?Object(n.createElement)(n.Fragment,null,Object(n.createElement)(c.PanelRow,null,Object(n.createElement)(b.a,null)),Object(n.createElement)(s.a,{icon:Object(n.createElement)(E,null),message:Object(i.sprintf)(
/* translators: %d is count of validation errors whose invalid markup is kept */
Object(i._n)("AMP is blocked due to %d validation issue marked as kept.","AMP is blocked due to %d validation issues marked as kept.",_,"amp"),_),isSmall:!0}),Object(n.createElement)(c.PanelRow,null,Object(n.createElement)(c.Button,{onClick:w,isSecondary:!0,isSmall:!0},Object(i._n)("Review issue","Review issues",_,"amp")))):v>0?Object(n.createElement)(n.Fragment,null,Object(n.createElement)(c.PanelRow,null,Object(n.createElement)(b.a,null)),Object(n.createElement)(s.a,{icon:Object(n.createElement)(l.b,{broken:!0}),message:Object(i.sprintf)(
/* translators: %d is count of unreviewed validation error */
Object(i._n)("AMP is valid, but %d issue needs review.","AMP is valid, but %d issues need review.",v,"amp"),v),isSmall:!0}),Object(n.createElement)(c.PanelRow,null,Object(n.createElement)(c.Button,{onClick:w,isSecondary:!0,isSmall:!0},Object(i._n)("Review issue","Review issues",v,"amp")))):Object(n.createElement)(n.Fragment,null,Object(n.createElement)(c.PanelRow,null,Object(n.createElement)(b.a,null)),Object(n.createElement)(s.a,{icon:Object(n.createElement)(l.b,null),message:h>0?Object(i.sprintf)(
/* translators: %d is count of unreviewed validation error */
Object(i._n)("AMP is valid. %d issue was reviewed.","AMP is valid. %d issues were reviewed.",h,"amp"),h):Object(i.__)("No AMP validation issues detected.","amp"),isSmall:!0}),h>0&&Object(n.createElement)(c.PanelRow,null,Object(n.createElement)(c.Button,{onClick:w,isSecondary:!0,isSmall:!0},Object(i.__)("Open AMP Validation","amp"))))}p.defaultProps={fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 20"}},,function(e,t,r){"use strict";var n=r(32);function i(){}function c(){}c.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,c,a){if(a!==n){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,function(e,t){e.exports=window.wp.url},,,,function(e,t){e.exports=window.wp.apiFetch},,,,,function(e,t,r){var n={"./amp-block-validation.js":22,"./amp-document-setting-panel.js":44,"./amp-pre-publish-panel.js":45};function i(e){var t=c(e);return r(t)}function c(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=c,e.exports=i,i.id=43},function(e,t,r){"use strict";r.r(t),r.d(t,"PLUGIN_NAME",(function(){return o})),r.d(t,"PLUGIN_ICON",(function(){return l})),r.d(t,"default",(function(){return s}));var n=r(0),i=r(1),c=r(17),a=r(29);const o="amp-block-validation-document-setting-panel",l="";function s(){return Object(n.createElement)(c.PluginDocumentSettingPanel,{name:o,title:Object(i.__)("AMP","amp"),initialOpen:!0},Object(n.createElement)(a.a,null))}},function(e,t,r){"use strict";r.r(t),r.d(t,"PLUGIN_NAME",(function(){return o})),r.d(t,"PLUGIN_ICON",(function(){return l})),r.d(t,"default",(function(){return s}));var n=r(0),i=r(1),c=r(17),a=r(29);const o="amp-block-validation-pre-publish-panel",l="";function s(){return Object(n.createElement)(c.PluginPrePublishPanel,{title:Object(i.__)("AMP","amp"),initialOpen:!0},Object(n.createElement)(a.a,null))}},,function(e,t,r){"use strict";r.r(t);var n=r(19),i=r(27),c=r(4),a=r(10),o=r.n(a),l=r(0),s=(r(5),r(3)),u=r(11),d=r(7),m=r(2),b=r(15),E=r(22),p=r(18);function O({clientId:e,count:t}){const{openGeneralSidebar:r}=Object(s.useDispatch)("core/edit-post"),{isAMPEnabled:n}=Object(p.a)();return n?Object(l.createElement)(d.BlockControls,null,Object(l.createElement)(m.ToolbarButton,{onClick:()=>{r(`${E.PLUGIN_NAME}/${E.SIDEBAR_NAME}`),setTimeout(()=>{const t=Array.from(document.querySelectorAll(`.error-${e} button`)),r=t[0];t.reverse();for(const e of t)"false"===e.getAttribute("aria-expanded")&&e.click();r&&r.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})})}},Object(l.createElement)(b.c,{count:t}))):null}function f(e){const{BlockEdit:t,clientId:r}=e,n=Object(s.useSelect)(e=>(e(c.a).getUnreviewedValidationErrors()||[]).filter(({clientId:e})=>r===e).length||0,[r]);return Object(l.createElement)(l.Fragment,null,0<n&&Object(l.createElement)(O,{clientId:r,count:n}),Object(l.createElement)(t,e))}const j=Object(u.createHigherOrderComponent)(e=>t=>Object(l.createElement)(f,o()({},t,{BlockEdit:e})),"BlockEditWithAMPToolbar");Object(c.c)(c.b);const g=r(43);g.keys().forEach(e=>{const{default:t,PLUGIN_NAME:r,PLUGIN_ICON:n}=g(e);Object(i.registerPlugin)(r,{icon:n,render:t})}),Object(n.addFilter)("editor.BlockEdit","ampBlockValidation/filterEdit",j,-99)}]);